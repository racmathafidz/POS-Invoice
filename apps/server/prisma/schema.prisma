generator client {
    provider = "prisma-client-js"
}


datasource db {
    provider = "mysql"
    url = env("DATABASE_URL")
}


model Product {
    id Int @id @default(autoincrement())
    name String
    priceCents Int
    stock Int
    imageUrl String
    items InvoiceItem[]
    @@index([name])
}


model Invoice {
    id Int @id @default(autoincrement())
    date DateTime
    customerName String
    salespersonName String
    notes String?
    items InvoiceItem[]
    createdAt DateTime @default(now())
}


model InvoiceItem {
    id Int @id @default(autoincrement())
    invoice Invoice @relation(fields: [invoiceId], references: [id])
    invoiceId Int
    product Product @relation(fields: [productId], references: [id])
    productId Int
    qty Int
    priceCentsAtSale Int
}